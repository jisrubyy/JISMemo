<Window x:Class="JISMemo.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="JISMemo 설정" Height="450" Width="600" 
        WindowStartupLocation="CenterScreen" ResizeMode="CanResize" MinHeight="400" MinWidth="600">
    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <TextBlock Grid.Row="0" Text="설정" FontSize="20" FontWeight="Bold" Margin="0,0,0,20"/>
        
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Margin="0,0,0,10">
            <StackPanel>
        
                <GroupBox Header="데이터 저장 위치" Margin="0,0,0,10">
            <StackPanel Margin="10">
                <RadioButton x:Name="DefaultLocationRadio" Content="기본 위치 (AppData)" 
                           IsChecked="True" Margin="0,5"/>
                <RadioButton x:Name="CustomLocationRadio" Content="사용자 지정 위치:" 
                           Margin="0,5"/>
                <StackPanel Orientation="Horizontal" Margin="20,5,0,5">
                    <TextBox x:Name="CustomPathTextBox" Width="300" Height="25" 
                           IsEnabled="{Binding IsChecked, ElementName=CustomLocationRadio}"/>
                    <Button x:Name="BrowseButton" Content="찾아보기" Width="90" Height="32" 
                          Margin="10,0,0,0" Click="BrowseButton_Click"
                          IsEnabled="{Binding IsChecked, ElementName=CustomLocationRadio}"/>
                </StackPanel>
                <TextBlock Text="현재 저장 위치:" FontWeight="Bold" Margin="0,10,0,5"/>
                <TextBlock x:Name="CurrentPathTextBlock" TextWrapping="Wrap" 
                         Foreground="Gray" Margin="0,0,0,5"/>
            </StackPanel>
                </GroupBox>
                
                <GroupBox Header="암호 관리" Margin="0,0,0,10">
                    <StackPanel Margin="10">
                        <TextBlock x:Name="EncryptionStatusText" Text="암호화 상태: 비활성화" Margin="0,5,0,10"/>
                        <StackPanel Orientation="Horizontal">
                            <Button x:Name="SetPasswordButton" Content="암호 설정" Width="110" Height="35" 
                                  Margin="0,0,10,0" Click="SetPasswordButton_Click" Style="{StaticResource SuccessButton}"/>
                            <Button x:Name="RemovePasswordButton" Content="암호 제거" Width="110" Height="35" 
                                  Click="RemovePasswordButton_Click" Style="{StaticResource DangerButton}"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
                
                <GroupBox Header="모양" Margin="0,0,0,10">
                    <StackPanel Margin="10">
                        <TextBlock Text="배경색:" FontWeight="Bold" Margin="0,0,0,10"/>
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                            <Border x:Name="ColorPreview" Width="40" Height="40" BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Margin="0,0,10,0"/>
                            <Button x:Name="ChangeColorButton" Content="색상 변경" Width="110" Height="35" Click="ChangeColorButton_Click"/>
                            <Button x:Name="ResetColorButton" Content="기본색으로" Width="110" Height="35" Margin="10,0,0,0" Click="ResetColorButton_Click" Style="{StaticResource SecondaryButton}"/>
                        </StackPanel>
                        
                        <TextBlock Text="기본 메모 테마:" FontWeight="Bold" Margin="0,0,0,10"/>
                        <StackPanel Orientation="Horizontal">
                            <Border x:Name="NoteThemePreview" Width="80" Height="60" BorderBrush="Gray" BorderThickness="1" CornerRadius="4" Margin="0,0,10,0">
                                <TextBlock x:Name="NoteThemePreviewText" Text="메모" HorizontalAlignment="Center" VerticalAlignment="Center" FontSize="14"/>
                            </Border>
                            <ComboBox x:Name="NoteThemeComboBox" Width="200" Height="35" SelectionChanged="NoteThemeComboBox_SelectionChanged"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
                
                <GroupBox Header="일반" Margin="0,0,0,10">
                    <StackPanel Margin="10">
                        <CheckBox x:Name="AutoStartCheckBox" Content="Windows 시작 시 자동으로 실행" 
                                Margin="0,5" Checked="AutoStartCheckBox_Changed" Unchecked="AutoStartCheckBox_Changed"/>
                        <TextBlock Text="프로그램이 시스템 트레이에서 시작됩니다." 
                                 Foreground="Gray" FontSize="11" Margin="20,0,0,10"/>
                        
                        <TextBlock Text="언어:" FontWeight="Bold" Margin="0,5,0,5"/>
                        <ComboBox x:Name="LanguageComboBox" Width="200" Height="30" HorizontalAlignment="Left" 
                                SelectionChanged="LanguageComboBox_SelectionChanged"/>
                        <TextBlock x:Name="LanguageChangeNote" Text="언어 변경은 프로그램 재시작 후 적용됩니다." 
                                 Foreground="Orange" FontSize="11" Margin="0,5,0,0" Visibility="Collapsed"/>
                    </StackPanel>
                </GroupBox>
                
                <GroupBox Header="데이터 백업/복원" Margin="0,0,0,10">
                    <StackPanel Margin="10">
                        <TextBlock Text="다른 PC에서 사용하려면 데이터를 내보내세요." TextWrapping="Wrap" Margin="0,0,0,10"/>
                        <StackPanel Orientation="Horizontal">
                            <Button x:Name="ExportButton" Content="데이터 내보내기" Width="140" Height="35" 
                                  Margin="0,0,10,0" Click="ExportButton_Click"/>
                            <Button x:Name="ImportButton" Content="데이터 가져오기" Width="140" Height="35" 
                                  Click="ImportButton_Click"/>
                        </StackPanel>
                    </StackPanel>
                </GroupBox>
            </StackPanel>
        </ScrollViewer>
        
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
            <Button x:Name="OkButton" Content="확인" Width="90" Height="35" 
                  Margin="0,0,10,0" Click="OkButton_Click" Style="{StaticResource SuccessButton}"/>
            <Button x:Name="CancelButton" Content="취소" Width="90" Height="35" 
                  Click="CancelButton_Click" Style="{StaticResource SecondaryButton}"/>
        </StackPanel>
    </Grid>
</Window>